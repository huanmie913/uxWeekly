<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style type="text/css">
*{margin:0;padding:0;font-size:12px;}
.tip{ background:#f00;color:#fff;height:24px;text-align:center;line-height:24px;}
html{-webkit-text-size-adjust:none}
</style>
<script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
<script type="text/javascript">
/*$().ready(function(){
	$(window).on('resize',function(){
		onZoomChange($('#accessory_zoom'));
	})
})
var level = 1;
var onZoomChange = function(o){
	var s = o.scale,
	m = s > 1 ? '放大': '缩小';	
	console.log(s)
	var _tpl = '您的浏览器目前处于正常状态，会导致显示不正常，您可以键盘按"ctrl+数字0"组合键恢复初始状态。';
	if( s >1){
		$(".tip").show().html(_tpl.replace("正常",m));
	}else if(s<1){
		$(".tip").show().html(_tpl.replace("正常",m));
	}else{
		$(".tip").hide();
	}
}*/

</script>
</head>

<body>
<div class="tip" id="js_zoomTip"></div>
<object data="zoom.swf?onchange=onZoomChange" width="10" height="10" id="accessory_zoom" name="zoom_detect" type="application/x-shockwave-flash">
	<param name="allowScriptAccess" value="always">
	<param name="wmode" value="transparent">
	<param name="scale" value="noScale">
</object>
<script>
(function(win){
	var _level = 1,
		_win = win;
	function f$(id){
		return typeof id == "string" ? document.getElementById(id) : id;
	}
	function on(otarget,otype,ofn){
		if( otarget.addEventListener ){
			otarget.addEventListener(otype,ofn,false);
		}else if(otarget.attachEvent){
			otarget.attachEvent("on"+otype,ofn);
		}else{
			otarget["on"+otype] = ofn;
		}
	}
	function onZoomChange(o,tipObj){
		var s = o.scale,
			text = s > 1 ? "放大" : "缩小",
			tipTpl = '您的浏览器目前处于正常状态，会导致显示不正常，您可以键盘按"ctrl+数字0"组合键恢复初始状态。';
		if( s >1 ){
			console.log('放大');
		}else if( s<1){
			console.log("缩小");
		}else{
			console.log("正常")
		}
	}
	on(_win,"resize",function(){
		var _flash = f$("accessory_zoom"),
			_tip   = f$("js_zoomTip");
		onZoomChange.apply(_win,[_flash,_tip]);
	});
})(window);
/*var _level = 1;
function f$(id){
		return typeof id == "string" ? document.getElementById(id) : id;
	}
	function on(otarget,otype,ofn){
		if( otarget.addEventListener ){
			otarget.addEventListener(otype,ofn,false);
		}else if(otarget.attachEvent){
			otarget.attachEvent("on"+otype,ofn);
		}else{
			otarget["on"+otype] = ofn;
		}
	}
	function onZoomChange(o,tipObj){
		var	s = o.scale,
			text = s > 1 ? "放大" : "缩小",
			tipTpl = '您的浏览器目前处于正常状态，会导致显示不正常，您可以键盘按"ctrl+数字0"组合键恢复初始状态。';
		if( s >1 ){
			console.log('放大');
		}else if( s<1){
			console.log("缩小");
		}else{
			console.log("正常")
		}
	}
	on(window,"resize",function(){
		var _flash = f$("accessory_zoom"),
			_tip   = f$("js_zoomTip");
		onZoomChange(_flash,_tip);
	});*/
</script>
</body>
</html>