<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>IE6内核页面放大数倍后的bug</title>
<style type="text/css">
*{margin:0;padding:0;font-size:12px;}
.tip{ background:#f00;color:#fff;height:24px;text-align:center;line-height:24px;}
html{-webkit-text-size-adjust:none}
.tipx{ font-size:14px;color:#f00;}
</style>
</head>
<body>
<p class="tipx">这个问题其实到现在都还没有存在很好的解决，只是采取提示的方式，告诉用户页面放大或缩小会导致页面变形。</p>
<div class="tip" id="js_zoomTip"></div>
<object data="zoom.swf?onchange=onZoomChange" width="10" height="10" id="accessory_zoom" name="zoom_detect" type="application/x-shockwave-flash">
	<param name="allowScriptAccess" value="always">
	<param name="wmode" value="transparent">
	<param name="scale" value="noScale">
</object>
<script>
(function(win){
	var _level = 1;
	function f$(id){
		return typeof id == "string" ? document.getElementById(id) : id;
	}
	function on(otarget,otype,ofn){
		if( otarget.addEventListener ){
			otarget.addEventListener(otype,ofn,false);
		}else if(otarget.attachEvent){
			otarget.attachEvent("on"+otype,ofn);
		}else{
			otarget["on"+otype] = ofn;
		}
	}
	function onZoomChange(o){
		var s = o.scale,
			_obj = f$("js_zoomTip"),
			text = s > _level ? "放大" : "缩小",
			tipTpl = '您的浏览器目前处于正常状态，会导致显示不正常，您可以键盘按"ctrl+数字0"组合键恢复初始状态。';
		if( s >1 || s<1 ){
			_obj.style.display = "block";
			_obj.innerHTML= tipTpl.replace("正常",text);
		}else{
			_obj.style.display = "none";
		}
	}
	on(win,"resize",function(){
		var _flash = f$("accessory_zoom");
		 onZoomChange(_flash);
	});
	win.onZoomChange = onZoomChange;
})(window);
</script>
</body>
</html>