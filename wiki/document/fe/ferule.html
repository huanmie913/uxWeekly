<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>web前端开发规范</title>
<link href="../../static/css/demo.css" rel="stylesheet" type="text/css"/>
<link href="../../static/js/highlight/styles/sunburst.css" rel="stylesheet" type="text/css"/>
<link href="ferule.css" rel="stylesheet" type="text/css"/>
</head>

<body>
<!--toolbar-->
<div class="toolbar" id="toolbar"></div>
<!--/toolbar-->
<!--ox_box-->
<div class="ox_box ferule">
	
	<h2>一：规范目的</h2>
	<p>为提高团队协作效率, 便于后端程序员添加功能及前端后期优化维护, 输出高质量的文档, 特制订此文档. 本规范文档一经确认, 前端开发人员必须按本文档规范进行前端页面开发. 本文档如有不对或者不合适的地方请及时提出, 经讨论决定后方可更改.</p>
	<h3>基本准则</h3>
	<p>符合web标准, 语义化html, 结构表现行为分离, 兼容性优良. 页面性能方面, 代码要求简洁明了有序, 尽可能的减小服务器负载, 保证最快的解析速度.</p>
	<p>本文将对开发工具、文件规范、XHTML、CSS、JS、图片规范、注释规范、HACK这八个方面，进行规范。</p>
	<h2 class="mt10">二：开发工具</h2>
	<!--fe_tb-->
	<div class="fe_tb">
		<table>
			<tr>
				<th>操作系统:</th>
				<td>Window</td>
			</tr>
			<tr>
				<th>编辑器:</th>
				<td>webStorm、subLime Text2、Adobe DW、vim</td>
			</tr>
			<tr>
				<th>浏览器:</th>
				<td>IE6,7,8,9、Firefox、360、傲游3、Chrome</td>
			</tr>
			<tr>
				<td colspan="2">常用web开发工具</td>
			</tr>
			<tr>
				<th>IE:</th>
				<td>
					<p><a href="http://www.microsoft.com/downloads/details.aspx?familyid=e59c3964-672d-4511-bb3e-2d5e1db91038&displaylang=en" target="_blank">IE Developer Toolbar</a> <span>(DOM, CSS)</span></p>
					<p><a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=2f465be0-94fd-4569-b3c4-dffdf19ccd99&DisplayLang=en" target="_blank">Microsoft Script Debugger</a> <span>(JavaScript)</span></p>
					<p><a href="http://www.httpwatch.com/download/" target="_blank">HttpWatch</a> <span>(无可代替的截包利器)</span></p>
				</td>
			</tr>
			<tr>
				<th>Firefox:</th>
				<td>
					<p><a href="https://addons.mozilla.org/zh-CN/firefox/addon/1843" target="_blank">Firebug</a> <span>(DOM,CSS,JavaScript,流量,性能)</span></p>
					<p><a href="http://validator.w3.org/" target="_blank">Html Validator</a> <span>(验证html标签正确性)</span></p>
					<p><a href="https://addons.mozilla.org/en-US/firefox/addon/css-reloader/" target="_blank">Css Reloader</a><span> (无刷新reload css)</span></p>
					<p><a href="https://addons.mozilla.org/en-us/firefox/addon/css-usage/" target="_blank">Css Usage</a> <span>(减少css规则冗余)</span></p>
					<p><a href="https://addons.mozilla.org/en-US/firefox/addon/accessibility-evaluation-toolb/" target="_blank">Accessibility Extension</a><span> (检测页面可用性问题)</span></p>
					<p><a href="http://www.butwho.net/2008/05/collection-of-web-developer-tools-per-browser.html" target="_blank">Web Developer Toolbar</a> <span>(多用途web开发利器)</span></p>
				</td>
			</tr>
			<tr>
				<th>Chrome:</th>
				<td>
					<p><a href="#" target="_blank">Javascript控制台</a></p>
					<span>“控制当前页”-->“开发人员”-->“javascript控制台”</span>
				</td>
			</tr>
		</table>
	</div>
	<!--/fe_tb-->
	<p>	开发工具，亦可根据自己喜好选择。但须遵循如下原则:</p>
	<ol class="x">
		<li>1.不可利用IDE的视图模式'画'代码;</li>
		<li>2.不可利用IDE生成相关功能代码, 比如Dw内置的一些功能js;</li>
		<li>3.编码必须格式化, 比如缩进;;</li>
	</ol>
	<p>理想状态下，浏览器兼容性需支持所有主流浏览器。在实际的项目开发中，根据实际情况，浏览器的兼容有所偏重。</p>
	<p>建议测试顺序: FireFox-->IE6-->IE9->IE8-->IE7-->Opera-->Chrome-->Safari。 </p>
	<h2 class="mt10">三：文件规范</h2>
	<ol>
		<li>1.html, css, js, images,图片切片文件均归档至约定的目录中</li>
		<li>2.html文件命名: 英文命名, 后缀.html. 若界面稿命名为中文, 请重命名与html文件同名, 以方便后端添加 功能时查找对应页面。</li>
		<li>3.css文件命名: 英文命名, 后缀.css. 共用global_ue.css, 其他页面依实际模块需求命名</li>
		<li>4.Js文件命名: 英文命名, 后缀.js. 共用global_ue.js, 其他依实际模块需求命名</li>
		<li>5.整个DEMO的切片合并在一张PSD中，便已后期维护修改，并以相应的项目命名</li>
	</ol>
	<h2>四：XHTML规范</h2>
	<h3>4.1 xhtml文档模板</h3>
	<ol>
		<li>1.长期开发的项目，页面结构需有较高的兼容性，保证兼容文档能被以后的xhtml文档完全兼容，因此在DOCTYPE声明中，统一使用HTML5声明。
			<img>
			<dl class="notice">
				<dt>注意:</dt>
				<dd>1）在IE6下，如果文档的第一行代码不是DOCTYPE声明，将触发怪异模式，所以在项目页面中不加XML声明&lt;l? xml version=”1.0” encoding=”utf-8” ?&gt。</dd>
				<dd>2）如果css与xhtml的文档编码不一致，请在link中申明charset.</dd>
			</dl>
		</li>
		<li>2.非特殊情况下样式文件必须外链至&lt;head&gt...&lt;/head&gt之间;非特殊情况下JavaScript文件必须外链至页面底部;</li>
		<li>3.引入样式文件或JavaScript文件时, 须略去默认类型声明, 写法如下:<pre><code class="xml">&lt;link rel="stylesheet" href="..." /&gt;&lt;style&gt;...&lt;/style&gt;&lt;script src="..."&gt;&lt;/script&gt;</code></pre>
		</li>
		<li>4.引入JS库文件, 文件名须包含库名称及版本号及是否为压缩版, 比如jquery-1.4.1.min.js; 引入插件, 文件名格式为库名称+插件名称, 比 如jQuery.cookie.js;</li>
		<li>5.必须为含有描述性表单元素(input, textarea)添加label, 如:<pre><code class="xml">&lt;p&gt;姓 名: &lt;input type="text" id="name" name="name" /&gt;&lt;/p&gt;须写成:&lt;p&gt;&lt;label for="name"&gt;姓 名: &lt;/label&gt;&lt;input type="text" id="name" /&gt;&lt;/p&gt;</code></pre>
		</li>
		<li>6.规避class与id命名</li>
		<li>7.css属性书写顺序, 建议遵循:  布局定位属性-->自身属性-->文本属性-->其他属性. 	此条可根据自身习惯书写, 但尽量保证同类属性写在一起. 属性列举:
		<br/>布局定位属性主要包括: display & list-style & position（相应的top,right,bottom,left＆ float & clear＆visibility＆overflow；自身属性	主要包括: width & height & margin & padding & border & background; 	文本属性主	要包括：color & font & text-decoration & text-align & vertical-align & white- space & 其他 & content; 我所列出的这些属性只是最常用到的, 并不代表全部.</li>
		<li>8.书写代码前, 考虑并提高样式重复使用率</li>
		<li>9.背景图片请尽可能使用sprite技术, 减小http请求, 考虑到多人协作开发, sprite按模块制作;</li>
		<li>10.杜绝使用<pre><code class="xml">&lt;meta http-equiv="X-UA-Compatible" content="IE=7" /&gt;</code></pre>兼容 ie8;</li>
		<li>11.充分利用无兼容性问题的html自身标签, 比如span, em, strong, optgroup, label,等等; 	需	要为html元素添加自定义属性的时候, 首先要考虑下有没有默认的已有的合适标签去设置, 	如果没有, 可以使用须以"data-"为前缀来添加自定义属性，避免使用"data:"等其他命名方式;</li>
		<li>充分利用html自身属性及样式继承原理减少代码量</li>
	</ol>
	<h3>4.2 XHTML文档格式</h3>
	<p>创建格式良好的文档,可以使页面在各媒介中良好的展示,便于前端开发人员进一步的前端逻辑开发.对整个风格的规范，将提高代码的可视性，便于维护与查找。规范中将分为两个方面:符合标准的内容格式规范与整体风格规范。</p>
	<h4>4.2.1 内容格式规范</h4>
	<ul class="x">
		<li>1)正确的嵌套元素
			<p>	按照打开标记元素的顺序关闭标签，如果一个在另一个元素中，那么在里面的元素的结束标签必须出现在外面元素的结束标签之前。</p>
			<p>XHTML严格规定了一些嵌套限制，嵌套限制包括：</p>
			<pre><code class="xml">&lt;a&gt;标签不能包含其他&lt;a&gt;标签&lt;pre&gt;标签不能包含&lt;img&gt;、&lt;object&gt;、&lt;big&gt;、&lt;small&gt;、&lt;sub&gt;或&lt;sup&gt;标签&lt;button&gt;标签不能包含&lt;input&gt;、&lt;select&gt;、
				&lt;textarea&gt;、&lt;label&gt;、&lt;button&gt;、&lt;form&gt;、&lt;fieldset&gt;、 &lt;iframe&gt;或&lt;isindex&gt;
				标签&lt;label&gt;标签不能包含其他&lt;label&gt;标签&lt;form&gt;标签不能包含其他&lt;form&gt;标签</code></pre>
			<p>具体嵌套限制规则如下：</p>
			<img>
			<p class="notice">注意:任何内联元素不可嵌套任何块级元素。任何内联元素不允许直接以body为父容器。Body下的子元素必须是块级元素。内联元素很多都可以互相嵌套，很多语义化的块级元素有固定的父子关系（不可乱嵌套）。</p>
		</li>
		<li>2)对非空元素必须使用结束标签。对空元素结束时必须使用"/".
			<p>在XHTML中，每个包含其他标签或内容的标签都必须有对应的结束标签。元素可以为空的标签在结束时使用"/"。可以为空的标签包括：</p>
			<pre><code class="xml">&lt;base/&gt;&lt;meta/&gt;&lt;link/&gt;&lt;hr/&gt;&lt;br/&gt;&lt;param/&gt;&lt;img/&gt;&lt;area/&gt;&lt;input/&gt;&lt;col/&lt;</code></pre>
		</li>
		<li>3)标签与属性名必须小写</li>
		<li>4)属性值必须在引号中,没有值的属性必须使用自己的属性名当值
			<p>	在xhtml中，每个属性都必须有一个值。每个值必须加双引号，没有值的属性必须使用属性名当值。</p>
		</li>
		<li>5)&、>、<、¥、<<特殊字符使用&amp;、&gt;、&lt;、&yen、&lsaquo; 字符实体书写页面制作过程中，浏览器解析时，会把"< xxxxxx >"这样格式的代码作为注释不进行解析，为了避免这样的情况发生，遇到大于号、小于号时，使用实体字符"&gt;"、"&lt;"
			<p>常见的HTML字符实体表：<a href="#">http://www.w3schools.com/tags/ref_entities.asp</a></p>
		</li>
		<li>6)减少&nbsp的使用
			<p>代码中尽量少的出现"&nbsp;"。一个英文字符的宽度可以使用" "代替，一个汉字的宽度可以用"  "（全角输入）。对于需要多个空格的情况下对标签定义margin、padding来增加间距。</p>
		</li>
		<li>7)Img标签加alt属性
			<p>	根据页面图片的功能可以分成：页面元素图片、内容数据图片</p>
			<h5>页面元素图片</h5>
			<p>	通常指页面风格图片，由页面设计产品的图片，如背景图片、按钮图片、ico图片等。这种图片统一采用css方式做图片。</p>
			<h5>内容数据图片</h5>
			<p>	由于页面内容的展现而需要引入的图片，如预览图、广告图片等。这类图片使用<img>直接引用，alt标签中写明图片说明。</p>
		</li>
		<li>8)添加必要的完整注释，注释中不要使用"-"
			<p>	添加注释，在查看代码时，可以明白代码的用途、使用等方面。注释成对出现，注释内容要详细完整明确，提高注释的可读性。在需要注释代码开始、结束的地方添加注释，中间包含了被注释的内容</p>
		</li>
		<li>9)表现与结构分离，代码中不涉及任何的表现元素
			<p>在文档代码中不涉及如style、font、bgColor、border等元素，为了方便项目维护及功能拓展，代码中不涉及任何的表现元素，完全的表现与结构分离。应该语义化样式名而不是表现化样式名.</p>
		</li>
	</ul>
	<h4>4.2.2 整体风格规范</h4>
	<ul>
		<li>1)编码采用树形缩进方式书写</li>
		<li>2)减少空白,减少页面体积
			<p>书写整洁、体积较小的代码，方便维护与查找。建议在不破坏整体结构的前提下，减少空白</p>
		</li>
	</ul>
	<h2 class="mt10">五：CSS规范</h2>
	<p>单个独立页面采用一个样式文件完成所有页面的样式</p>
	<h3>5.1 CSS文档结构规范</h3>
	<p>一个样式文件主要包含以下几部分：通用样式、外观样式、组合样式、结构样式</p>
	<h4>5.1.1 通用样式</h4>
	<p>消除各浏览器差异统一初始样式，定义一些页面中频繁使用的样式类</p>
	<h4>5.1.2 外观样式</h4>
	<p>页面中用到的色彩、字体、边框、背景等信息，缺少该部分的样式不影响页面结构。勿滥用外观样式</p>
	<h4>5.1.3 组合样式</h4>
	<p>	将页面中相对比较独立的结构、相同或者类似的结构封装成一个样式控件，确保样式文件中相同的结构不出现多次代码。对于类似的结构，封装公共部分，独立差异部分。</p>
	<h4>5.1.4 结构样式</h4>
	<p>	定义页面的框架结构，页面框架采用区域划分方式，每个区域使用一个名字空间标识。相同的页面可以使用相同的区域空间，也可以使用不同的区域空间。</p>
	<h3>5.2 CSS文档内容规范</h3>
	<ul>
		<li>使用小写字母，禁止出现大写字母[包括命名/属性/值等等]</li>
		<li>每条规则顶格输入，并在单行内完成规则的定义</li>
		<li>注释（格式、分类参考XHTML中的"注释"）</li>
		<li>注释内的两头需空格，以避免中文字符编码错误情况下影响样式解析的bug，如/* 这个首尾都有空格 */</li>
	</ul>
	<h3>5.3 CSS书写规范</h3>
	<ul>
		<li>1)编码统一为utf-8;</li>
		<li>2)class与id的使用: id是唯一的并是父级的, class是可以重复的并是子级的, 所以id仅使用在大的模块上, class可用在重复使用率高及子级中/li>
		<li>3)为Javascript预留钩子的命名,以js_起始,比如js_content</li>
		<li>4)class与id命名:前端尽量不要用ID来命名模块，ID用来给JS做勾。
			<p>a:通过从属写法规避, 见示例a</p>
			<p>b:取父级元素id/class命名部分命名, 示例见b</p>
			<pre><code class="xml">按a命名法则: &lt;div id="f2er_nav"&gt;&lt;div class="firstnav"&gt;...&lt;/div>&lt;/div&gt;
				<br/>样式写法: #f2er_nav .firstnav{.......}</code></pre>
			<pre><code class="xml">按b命名法则: &lt;div id="f2er_nav"&gt;&lt;div class="f2er_firstnav"&gt;...&lt;/div>&lt;/div&gt;
				<br/>样式写法: .f2er_firstnav{.......}</code></pre>
		</li>
	</ul>
	<h3>5.4 CSS HACK规范</h3>
	<p>	不同的浏览器对W3C标准的支持是不一样的，对于差异性需要利用css 的hack来进行调整。</p>
	<h3>5.5 CSS其他注意点</h3>
	<ul>
		<li>1)尽可能的通过继承和层叠重用已有样式</li>
		<li>2)不要轻易改动全站级CSS。改动后，要经过全面测试</li>
		<li>3)兼容多个浏览器时，将标准属性写在后面</li>
		<li>4)避免使用低效的选择器</li>
		<li>5)不要直接修改标签的样式</li>
		<li>6)不要在标签上直接写样式</li>
		<li>7)不要在CSS中使用 expression</li>
		<li>8)不要在CSS中使用 @import</li>
		<li>9)不要在CSS中使用 !important</li>
		<li>10)尽量不要在CSS中使用 "*" 选择符</li>
	</ul>
	<h2 class="mt10">六:JavaScript书写规范</h2>
	<ul>
		<li>1)文件编码统一为utf-8, 书写过程中, 每行代码结束必须有分号; 原则上所有功能均根据XXX项目需求原生开发</li>
		<li>2)库引入: 原则上仅引入jQuery库, 若需引入第三方库, 须与团队其他人员讨论决定</li>
		<li>3)变量命名: 驼峰式命名. 原生JavaScript变量要求是纯英文字母, 首字母须小写, 如iDongMan;jQuery变量要求首字符为'_', 其他与原生JavaScript 规则相同, 如: _iDongman;</li>
		<li>4)要求变量集中声明, 避免全局变量</li>
		<li>5)类命名: 首字母大写, 驼峰式命名. 如 Dongman;</li>
		<li>6)函数命名: 首字母小写驼峰式命名. 如dongMan();</li>
		<li>7)命名语义化, 尽可能利用英文单词或其缩写</li>
		<li>8)尽量避免使用存在兼容性及消耗资源的方法或属性, 比如eval() & innerText;</li>
		<li>9)后期优化中, JavaScript非注释类中文字符须转换成unicode编码使用, 以避免编码错误时乱码显示</li>
		<li>10)代码结构明了, 加适量注释. 提高函数重用率;</li>
		<li>11)注重与html分离, 减小reflow, 注重性能</li>
	</ul>
	<h2 class="mt10">七:图片规范</h2>
	<ul>
		<li>1)所有页面元素类图片均放入images文件夹, 测试用图片放于images/demo文件夹;</li>
		<li>2)图片格式仅限于gif || png || jpg;png仅限png8</li>
		<li>3)命名全部用小写英文字母 || 数字 || _ 的组合，其中不得包含汉字 || 空格 || 特殊字		符；尽量用易懂的词汇, 便于团队其他成员理解; 另, 命名分头尾两部分, 用下划线隔开, 比如ad_left01.gif || btn_submit.gif;</li>
		<li>4)在保证视觉效果的情况下选择最小的图片格式与图片质量, 以减少加载时间</li>
		<li>5)尽量避免使用半透明的png图片</li>
		<li>6)运用css sprite技术集中小的背景图或图标, 减小页面http请求, 但注意, 请务必在对应		的sprite psd源图中划参考线, 并保存至切片目录下</li>
	</ul>
	<h2 class="mt10">八:注释规范</h2>
	<ul>
		<li>1)html注释: 注释格式 <!--这儿是注释-->, '--'只能在注释的始末位置,不可置入注释文字区域</li>
		<li>2)	css注释: 注释格式 /* 这儿是注释 */;</li>
		<li>3)javaScript注释, 单行注释使用'//这儿是单行注释' ,多行注释使用 /* 这儿有多行注释 */;</li>
	</ul>
	<p>由情封,2013-03-16整理</p>
</div>
<!--/ox_box-->
<footer class="bottomBar" id="bottomBar"></footer>
<script src="../../static/js/highlight/highlight.pack.js"></script>
<script src="../../static/js/mod_f2er.js" type="text/javascript"></script>
<script type="text/javascript">
mod_f2er.topBar('web前端开发规范','toolbar');
mod_f2er.bottomBar('bottomBar');
hljs.tabReplace = ' ';
hljs.initHighlightingOnLoad(); 
</script>
</body>
</html>
