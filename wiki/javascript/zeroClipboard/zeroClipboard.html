<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>情封 跨浏览器剪贴功能</title>
<link href="../../static/css/demo.css" rel="stylesheet" type="text/css"/>
 <style type="text/css">
		#d_clip_button {
width:100px;
text-align:center;
border:1px solid black;
background-color:#ccc;
margin:10px; padding:10px;
}
#d_clip_button.hover{ background-color:#eee; }
#d_clip_button.active{ background-color:#aaa; }
#copyid{width:250px;height:60px;}
	</style>
</head>
<body>
<!--toolbar-->
<div class="toolbar" id="toolbar"></div>
<!--/toolbar-->
<textarea rows=2 id="copyid">需要复制的文字内容</textarea>
<div id="d_clip_button">【点击复制】</div>


<div class="bottomBar" id="bottomBar"></div>
<!--<script src="../../static/js/mod_f2er.js" type="text/javascript"></script>
<script type="text/javascript">
mod_f2er.topBar('跨浏览器剪贴功能','toolbar');
mod_f2er.bottomBar('bottomBar');
</script>-->
<script type="text/javascript" src="js/ZeroClipboard.js"></script>
<script language="JavaScript">
ZeroClipboard.setMoviePath( 'js/ZeroClipboard.swf' );  //和copy.php不在同一目录需设置setMoviePath
ZeroClipboard.setMoviePath( 'js/ZeroClipboard10.swf' );
var clip = new ZeroClipboard.Client();   //创建新的Zero Clipboard对象
clip.setText( '' ); // will be set later on mouseDown   //清空剪贴板
clip.setHandCursor( true );      //设置鼠标移到复制框时的形状
clip.setCSSEffects( true );          //启用css
clip.addEventListener( 'load', function(client) {
// alert( "movie is loaded" );
} );
clip.addEventListener( 'complete', function(client, text) {     //复制完成后的监听事件

// alert("Copied text to clipboard: " + text );

document.form1.submit();           // 复制到剪贴板成功后提交表单
clip.hide();                                          // 复制一次后，hide()使复制按钮失效，防止重复计算使用次数
} );
clip.addEventListener( 'mouseOver', function(client) {
// alert("mouse over");
} );
clip.addEventListener( 'mouseOut', function(client) {
// alert("mouse out");
} );
clip.addEventListener( 'mouseDown', function(client) {
// set text to copy here
clip.setText( document.getElementById('copyid').value );
// alert("mouse down");
} );
clip.addEventListener( 'mouseUp', function(client) {
// alert("mouse up");
alert("已复制到剪切板，可通过ctrl+v粘贴");
} );
clip.glue( 'd_clip_button' );

</script>
</body>
</html>
